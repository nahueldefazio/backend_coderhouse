(this.webpackJsonpec_newmanag=this.webpackJsonpec_newmanag||[]).push([[0],{106:function(e,t,c){},113:function(e,t,c){},114:function(e,t,c){},115:function(e,t,c){},116:function(e,t,c){"use strict";c.r(t);var a=c(3),n=c.n(a),i=c(30),s=c.n(i),r=(c(85),c(86),c(10)),o=c(1),l=Object(a.createContext)(),j=function(e){var t=e.children,c=Object(a.useState)(""),n=Object(r.a)(c,2),i=n[0],s=n[1],j=Object(a.useState)({nombre:"",apellido:"",email:"",tel:"",domicilio:"",localidad:"",provincia:"",dni:""}),d=Object(r.a)(j,2),b=d[0],m=d[1];return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(l.Provider,{value:{busqueda:i,setBusqueda:s,usuario:b,setUsuario:m},children:[t,";"]})})},d=c(51),b=c(48),m=c(19),u=c.n(m),x=Object(a.createContext)(),O=JSON.parse(localStorage.getItem("carrito"))||[],h=function(e){var t=e.children,c=Object(a.useState)(O),n=Object(r.a)(c,2),i=n[0],s=n[1],l=function(){var e=document.getElementById("carritoAnimar");null!=e&&(e.classList.remove("animate__animated"),e.classList.remove("animate__bounce"),setTimeout((function(){e.classList.add("animate__animated"),e.classList.add("animate__bounce")}),50))};return Object(a.useEffect)((function(){localStorage.setItem("carrito",JSON.stringify(i))}),[i]),Object(o.jsx)(x.Provider,{value:{carrito:i,addToCarrito:function(e){s([].concat(Object(b.a)(i),[e])),l()},removeItem:function(e){var t=i.filter((function(t){return t.id!==e}));s(t),l()},cambiarCant:function(e,t){t=Number(t);var c,a=i,n=Object(d.a)(a);try{for(n.s();!(c=n.n()).done;){var r=c.value;r.id===e&&(t>r.stock?r.cantidad=r.stock:r.cantidad=t<=0?1:t)}}catch(o){n.e(o)}finally{n.f()}s(Object(b.a)(a)),l()},calcularCantidad:function(){return i.reduce((function(e,t){return e+Number(t.cantidad)}),0)},vaciarCarrito:function(e){e?u.a.fire({title:"Confirmaci\xf3n",text:"Se Van a Eliminar Todos los Productos del Carrito",icon:"question",showCancelButton:!0,confirmButtonText:"S\xed, Eliminar",cancelButtonText:"Cancelar",confirmButtonColor:"red",cancelButtonColor:"gray"}).then((function(e){e.value?(s([]),u.a.fire({position:"center",icon:"info",title:"Carrito Vaciado.",showConfirmButton:!1,timer:1500})):u.a.fire({position:"center",icon:"success",title:"El Carrito No se Elimin\xf3.",showConfirmButton:!1,timer:1500})})):s([])},estaEnCarrito:function(e){return i.some((function(t){return t.id===e}))},calcularTotal:function(){return i.reduce((function(e,t){return e+Number(t.cantidad)*Number(t.precio)}),0)}},children:t})},p=Object(a.createContext)(),g=function(e){var t=e.children;return Object(o.jsx)(p.Provider,{value:{formatoSepMiles:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e=Number(e),new Intl.NumberFormat("de-DE",{style:"decimal",minimumFractionDigits:t,maximumFractionDigits:t}).format(e)}},children:t})},f=(c(98),c(17)),v=c(13),N=c(119),C=c(128),w=c(120),k=c(121),F=c(122),y=c(123),S=c(12),I=Object(a.createContext)(),P=function(e){var t=e.children,c=Object(a.useState)(!1),n=Object(r.a)(c,2),i=n[0],s=n[1];return Object(o.jsx)(I.Provider,{value:{isAuthenticated:i,setIsAuthenticated:s},children:t})},B=c(57),_=c(126),D=c(118),E=(c(99),c(5)),T=c(62),z=(c(100),T.a.initializeApp({apiKey:"AIzaSyBOBnqSjFYxjQAoTDoPhUlrdnyd_glRb-4",authDomain:"ec-newmanag.firebaseapp.com",projectId:"ec-newmanag",storageBucket:"ec-newmanag.appspot.com",messagingSenderId:"887841883393",appId:"1:887841883393:web:85f64fa6dcefc5d6438700",measurementId:"G-GX51RG0HXX"})),L=function(){return T.a.firestore(z)},A=function(){var e=Object(S.g)(),t=Object(a.useContext)(I),c=t.isAuthenticated,n=t.setIsAuthenticated,i=Object(a.useContext)(l),s=i.usuario,j=i.setUsuario,d=Object(a.useState)(!1),b=Object(r.a)(d,2),m=b[0],x=b[1],O=Object(a.useState)(""),h=Object(r.a)(O,2),p=h[0],g=h[1],v=function(){return x(!1)};return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"container",children:c?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("span",{className:"animate__animated animate__fadeInDownBig",children:["Bienvenido ",Object(o.jsx)("span",{className:"nombreUsuario animate__animated animate__fadeInDownBig",children:s.nombre})]}),Object(o.jsxs)("button",{className:"btn btn-info btn-sm mx-2 animate__animated animate__fadeInUpBig",onClick:function(){x(!1),n(!1),g(""),e.push("/")},children:[" ",Object(o.jsx)(B.a,{color:"#FF305D",size:"15px"})," Salir "]}),Object(o.jsx)(f.b,{to:"/ordenes",children:Object(o.jsxs)("button",{className:"btn btn-primary btn-sm mx-2 animate__animated animate__fadeInUpBig",children:[" ",Object(o.jsx)(B.c,{color:"#FF305D",size:"15px"})," Ver Compras "]})})]}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("button",{className:"btn btn-info btn-sm animate__animated animate__fadeInRightBig",onClick:function(){return x(!0)},children:[" ",Object(o.jsx)(B.b,{color:"#FF305D",size:"25px"})," Login "]}),Object(o.jsxs)(_.a,{show:m,onHide:v,children:[Object(o.jsx)(_.a.Header,{closeButton:!0,children:Object(o.jsx)(_.a.Title,{className:"text-center m-4 font-weight-bold",children:"Inicio Sesi\xf3n "})}),Object(o.jsx)(_.a.Body,{children:Object(o.jsx)("div",{className:"container align-items-center justify-content-space",children:Object(o.jsx)("div",{className:"row align-items-center justify-content-space",children:Object(o.jsx)("div",{className:"col",children:Object(o.jsxs)("form",{className:"p-0",children:[Object(o.jsxs)("div",{className:"form-group mb-2",children:[Object(o.jsx)("label",{children:"Email"}),Object(o.jsx)("input",{type:"email",className:"form-control",placeholder:"Ingrese su email",name:"email",value:p,onChange:function(e){g(e.target.value)}})]}),Object(o.jsxs)("div",{className:"form-group mb-2",children:[Object(o.jsx)("label",{children:"Password"}),Object(o.jsx)("input",{type:"password",className:"form-control",placeholder:"Ingrese su password",name:"password"})]}),Object(o.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold text-uppercase d-block w-100 mt-4",onClick:function(e){var t,c;e.preventDefault(),t=p,c=function(e){e.length>0?(j(e[0]),n(!0)):u.a.fire({position:"center",icon:"error",title:"Usario o Contrase\xf1a Incorrecto.",showConfirmButton:!1,timer:2500})},L().collection("usuarios").where("email","==",t).limit(1).get().then((function(e){var t=e.docs.map((function(e){return Object(E.a)({},e.data())}));c(t)}))},children:"Log in"})]})})})})}),Object(o.jsxs)(_.a.Footer,{children:[Object(o.jsx)(D.a,{variant:"info btn-sm",onClick:function(){x(!1),e.push("/registrarse")},children:"Registrarse"}),Object(o.jsx)(D.a,{variant:"secondary btn-sm",onClick:v,children:"Cerrar"})]})]})]})})})},U=(c(105),function(e){var t=e.nombreEmpresa,c=e.urlLogoPpal,n=Object(a.useContext)(l),i=n.busqueda,s=n.setBusqueda,j=Object(a.useState)(""),d=Object(r.a)(j,2),b=d[0],m=d[1],u=Object(a.useContext)(x),O=u.carrito,h=u.calcularCantidad,p=Object(a.useState)(!1),g=Object(r.a)(p,2),I=g[0],P=g[1],B=Object(a.useState)(!1),_=Object(r.a)(B,2),D=_[0],E=_[1],T=Object(S.g)(),z=Object(a.useCallback)((function(){b.length>=3?s(b):s("")}),[b,s]);return Object(a.useEffect)((function(){i.length<2&&s("")}),[i,s]),Object(a.useEffect)((function(){O.length>0&&!1===D&&(P(!0),E(!0))}),[O,D]),Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"container-fluid",id:"home",children:[Object(o.jsx)(N.a,{position:"top-end",className:"p-3",children:Object(o.jsxs)(C.a,{onClose:function(){return P(!1)},show:I,delay:5e3,autohide:!0,bg:"warning",children:[Object(o.jsxs)(C.a.Header,{children:[Object(o.jsx)(v.l,{color:"red",size:"25px"}),Object(o.jsx)("strong",{className:"me-auto",children:"\xa0\xa0\xa0\xa0 Notificaci\xf3n"})]}),Object(o.jsx)(C.a.Body,{children:Object(o.jsx)("span",{className:"textoToast",children:"Recuperamos Tu Carrito de Compras. Podes Continuar Comprando."})})]})}),Object(o.jsxs)("div",{className:"row align-items-center",children:[Object(o.jsx)("div",{className:"col col-xl-3 col-lg-4 col-md-6 col-sm-12",children:Object(o.jsx)(f.c,{exact:!0,to:"/",children:Object(o.jsx)("img",{src:"/"+c,className:"logoPpal",alt:"logo empresa"})})}),Object(o.jsx)("div",{className:"col col-xl-9 col-lg-8 col-md-6 col-sm-12 align-self-center",children:Object(o.jsx)("div",{className:"row align-items-center",children:Object(o.jsxs)(w.a,{children:[Object(o.jsx)(k.a,{children:Object(o.jsx)("h1",{className:"tituloPpal",children:t})}),Object(o.jsxs)(k.a,{className:"filaBusqueda",children:[Object(o.jsx)(F.a,{className:"col col-xl-4 col-lg-6 col-md-12 col-sm-12",children:Object(o.jsx)("input",{type:"text",className:"textoBusqueda",placeholder:"Ingrese Texto a Buscar",value:b,onKeyPress:function(){b.length>=3&&z()},onChange:function(e){m(e.target.value)}})}),Object(o.jsxs)(F.a,{className:"col col-xl-3 col-lg-4 col-md-6 col-sm-12",children:[Object(o.jsxs)("button",{className:"btn btn-secondary",onClick:function(){b.length>=3&&(T.push("/"),z())},children:[Object(o.jsx)(v.k,{})," Buscar"]}),Object(o.jsxs)("button",{className:"btn btn-secondary m-2",id:"btnLimpiar",onClick:function(){s(""),m("")},children:[Object(o.jsx)(v.m,{})," Limpiar"]})]}),Object(o.jsx)(F.a,{className:"col col-xl-1 col-lg-1 col-md-2 col-sm-2",children:h()?Object(o.jsxs)(f.b,{to:"/carrito",children:[Object(o.jsx)(v.l,{color:"red",size:"40px",className:"animate__animated animate__bounce",id:"carritoAnimar"}),Object(o.jsx)(y.a,{pill:!0,bg:"warning",text:"dark",className:"textoCantCarrito animate__animated animate__bounce animate__delay-1s",children:h()})]}):Object(o.jsx)(o.Fragment,{})}),Object(o.jsx)(F.a,{className:"col col-xl-3 col-lg-3 col-md-2 col-sm-2",children:Object(o.jsx)(A,{})})]})]})})})]})]})})}),R=(c(106),c(77)),q=function(){V(!0)},M=function(){V(!1)},V=function(e){var t=document.getElementById("contenidoPpal"),c="50px";window.screen.width&&(c="25px"),e&&(c="200px"),t.style.marginLeft=c},G=function(e){var t=e.nombreEmpresa,c=e.urlLogoPpal;return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("nav",{className:"sideBar",onMouseEnter:q,onMouseLeave:M,children:[Object(o.jsxs)("div",{className:"barraNegra",children:["'",Object(o.jsx)(v.c,{color:"#FF305D",size:"40px"})]}),Object(o.jsx)("p",{className:"s-nombre",children:t}),Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:Object(o.jsxs)(f.c,{activeClassName:"activeLink",className:"items",exact:!0,to:"/",children:[Object(o.jsx)(R.a,{color:"#FF305D",size:"25px"})," Inicio"]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(f.c,{activeClassName:"activeLink",className:"items",exact:!0,to:"/productos/cotillon",children:[Object(o.jsx)(v.f,{color:"#00CBF4",size:"25px"})," Cotill\xf3n"]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(f.c,{activeClassName:"activeLink",className:"items",exact:!0,to:"/productos/papeleria",children:[Object(o.jsx)(v.j,{color:"#FFC200",size:"25px"})," Papeleria"]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(f.c,{activeClassName:"activeLink",className:"items",exact:!0,to:"/productos/reposteria",children:[Object(o.jsx)(v.b,{color:"#FF305D",size:"25px"})," Reposter\xeda"]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(f.c,{activeClassName:"activeLink",className:"items",exact:!0,to:"/productos/distribucion",children:[Object(o.jsx)(v.f,{color:"#FFC200",size:"25px"})," Distribuci\xf3n"]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(f.c,{activeClassName:"activeLink",className:"items",exact:!0,to:"/carrito",children:[Object(o.jsx)(v.l,{color:"red",size:"25px"})," Ver Carrito"]})})]}),Object(o.jsx)(f.c,{exact:!0,to:"/",children:Object(o.jsx)("img",{src:"/"+c,className:"s-logo",alt:"logo empresa"})})]})})},H=c(33),$=c.n(H),J=c(43),K=c(65),X=function(e,t,c,a){return new Promise(function(){var n=Object(J.a)($.a.mark((function n(i,s){var r,o,l,j,d,b;return $.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={buyer:e,items:t.map((function(e){return{id:e.id,precio:e.precio,cantidad:e.cantidad,nombre:e.nombre,sku:e.sku}})),total:c,cantTotal:a,date:K.a.firestore.Timestamp.fromDate(new Date)},o=L(),l=o.collection("productos").where(K.a.firestore.FieldPath.documentId(),"in",t.map((function(e){return e.id}))),n.next=5,l.get();case 5:j=n.sent,d=o.batch(),b=[],j.docs.forEach((function(e){var c=t.find((function(t){return t.id===e.id}));e.data().stock>=c.cantidad?d.update(e.ref,{stock:e.data().stock-c.cantidad}):b.push(Object(E.a)(Object(E.a)({},e.data()),{},{id:e.id}))})),0===b.length?o.collection("orders").add(r).then((function(e){d.commit(),i(e.id)})).catch((function(e){u.a.fire({icon:"error",title:"Se Produjo Un Error",text:"".concat(e)})})):s(b);case 10:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())},Y=c(23),Q=c(78),Z=function(e){var t=e.enviar,c=e.loading,n=Object(a.useContext)(l),i=n.usuario,s=n.setUsuario,r=function(e){s(Object(E.a)(Object(E.a)({},i),{},Object(Y.a)({},e.target.name,e.target.value)))};return Object(o.jsx)("div",{className:"container my-5",children:Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t()},children:[Object(o.jsxs)("div",{className:"row align-items-center",children:[Object(o.jsx)("div",{className:"col-lg-2 col-md-4 col-xs-12",children:Object(o.jsx)("input",{className:"form-control m-2",type:"text",placeholder:"Nombre",name:"nombre",value:i.nombre,onChange:r})}),Object(o.jsx)("div",{className:"col-2",children:0===i.nombre.length&&Object(o.jsx)(y.a,{pill:!0,bg:"warning",text:"dark",children:"Nombre es obligatorio"})}),Object(o.jsx)("div",{className:"col-lg-2 col-md-4 col-xs-12",children:Object(o.jsx)("input",{className:"form-control m-2",type:"text",placeholder:"Apellido",name:"apellido",value:i.apellido,onChange:r})}),Object(o.jsx)("div",{className:"col-2",children:0===i.apellido.length&&Object(o.jsx)(y.a,{pill:!0,bg:"warning",text:"dark",children:"Apellido es obligatorio"})})]}),Object(o.jsxs)("div",{className:"row align-items-center",children:[Object(o.jsx)("div",{className:"col-lg-2 col-md-4 col-xs-12",children:Object(o.jsx)("input",{className:"form-control m-2",type:"email",placeholder:"Email",name:"email",value:i.email,onChange:r})}),Object(o.jsx)("div",{className:"col-2",children:0===i.email.length&&Object(o.jsx)(y.a,{pill:!0,bg:"warning",text:"dark",children:"E-Mail es obligatorio"})}),Object(o.jsx)("div",{className:"col-lg-2 col-md-4 col-xs-12",children:Object(o.jsx)("input",{className:"form-control m-2",type:"tel",placeholder:"Tel\xe9fono",name:"tel",value:i.tel,onChange:r})}),Object(o.jsx)("div",{className:"col-2",children:0===i.tel.length&&Object(o.jsx)(y.a,{pill:!0,bg:"warning",text:"dark",children:"Tel\xe9fono es obligatorio"})})]}),Object(o.jsxs)("div",{className:"row align-items-center",children:[Object(o.jsx)("div",{className:"col-lg-2 col-md-4 col-xs-12",children:Object(o.jsx)("input",{className:"form-control m-2",type:"text",placeholder:"Domicilio",name:"domicilio",value:i.domicilio,onChange:r})}),Object(o.jsx)("div",{className:"col-2",children:0===i.domicilio.length&&Object(o.jsx)(y.a,{pill:!0,bg:"warning",text:"dark",children:"Domicilio es obligatorio"})}),Object(o.jsx)("div",{className:"col-lg-2 col-md-4 col-xs-12",children:Object(o.jsx)("input",{className:"form-control m-2",type:"text",placeholder:"Localidad",name:"localidad",value:i.localidad,onChange:r})}),Object(o.jsx)("div",{className:"col-2",children:0===i.localidad.length&&Object(o.jsx)(y.a,{pill:!0,bg:"warning",text:"dark",children:"Localidad es obligatorio"})}),Object(o.jsx)("div",{className:"col-lg-2 col-md-4 col-xs-12",children:Object(o.jsx)("input",{className:"form-control m-2",type:"text",placeholder:"Provincia",name:"provincia",value:i.provincia,onChange:r})}),Object(o.jsx)("div",{className:"col-2",children:0===i.provincia.length&&Object(o.jsx)(y.a,{pill:!0,bg:"warning",text:"dark",children:"Provincia es obligatorio"})}),Object(o.jsx)("div",{className:"col-lg-2 col-md-4 col-xs-12",children:Object(o.jsx)("input",{className:"form-control m-2",type:"number",placeholder:"D N I",name:"dni",value:i.dni,onChange:r})}),Object(o.jsx)("div",{className:"col-2",children:i.dni.length<7&&Object(o.jsx)(y.a,{pill:!0,bg:"warning",text:"dark",children:"DNI es obligatorio"})})]}),Object(o.jsxs)("button",{className:"btn btn-success my-3",disabled:c,type:"submit",children:[Object(o.jsx)(Q.a,{size:"25px"})," Registrar"]})]})})},W=function(e){u.a.fire({icon:"error",title:"El Campo ".concat(e," tiene datos Inv\xe1lidos."),text:"Completalo Correctamente"})},ee=function(e){return e.nombre.length<3?(W("Nombre"),!1):e.apellido.length<3?(W("Apellido"),!1):e.email.length<3||e.email.indexOf("@")<0?(W("Email"),!1):e.tel.length<7?(W("Tel\xe9fono"),!1):e.domicilio.length<5?(W("Domicilio"),!1):e.localidad.length<3?(W("Localidad"),!1):e.provincia.length<3?(W("Provincia"),!1):!(e.dni.length<7)||(W("DNI"),!1)},te=(c(71),function(){var e=Object(a.useContext)(x),t=e.carrito,c=e.calcularTotal,n=e.calcularCantidad,i=e.vaciarCarrito,s=Object(a.useState)(!1),j=Object(r.a)(s,2),d=j[0],b=j[1],m=Object(a.useContext)(l).usuario,O=function(){var e=Object(J.a)($.a.mark((function e(){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==ee(m)){e.next=2;break}return e.abrupt("return");case 2:b(!0),X(m,t,c(),n()).then((function(e){u.a.fire({icon:"success",title:"Su Compra Fu\xe9 registrada",text:"Guarde su Nro. de \xd3rden: ".concat(e),willClose:function(){i(!1)}})})).catch((function(e){u.a.fire({icon:"error",title:"Se Produjo Un Error",text:"Ya No queda mas Stock de: ".concat(e.map((function(e){return e.nombre})).join(", "),". Por Favor, Re arme su Carrito, y Disculpe las Molestias.")})})).finally((function(){b(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.jsxs)(o.Fragment,{children:[0===t.length&&Object(o.jsx)(S.a,{to:"/"}),Object(o.jsxs)("div",{children:[Object(o.jsx)("hr",{}),Object(o.jsx)("h2",{className:"tituloFormulario",children:"Ingres\xe1 tus Datos"}),Object(o.jsx)(Z,{enviar:O,loading:d}),Object(o.jsx)("hr",{})]})]})}),ce=function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),c=t[0],n=t[1],i=Object(a.useContext)(l).usuario,s=Object(a.useContext)(I).setIsAuthenticated,j=Object(S.g)(),d=function(){var e=Object(J.a)($.a.mark((function e(){var t;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==ee(i)){e.next=2;break}return e.abrupt("return");case 2:n(!0),t=L(),t.collection("usuarios").add(i).then((function(){s(!0),u.a.fire({icon:"success",title:"Usuario Registrado"}),j.push("/")})).catch((function(e){u.a.fire({icon:"error",title:"Se Produjo Un Error",text:"".concat(e,".")})})).finally((function(){n(!1)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{className:"tituloFormulario",children:"Ingres\xe1 tus Datos"}),Object(o.jsx)(Z,{enviar:d,loading:c})]})},ae=(c(72),c(129)),ne=function(e){var t=e.id,c=e.nombre,n=e.precio,i=e.img,s=e.categ,r=e.sku,l=Object(a.useContext)(p).formatoSepMiles;return Object(o.jsx)("div",{className:"col col-xs-12 col-s-6 col-md-4 col-l-3 col-xl-2.5",children:Object(o.jsxs)(ae.a,{className:"item-card",children:[Object(o.jsx)(f.b,{to:"/detalle/".concat(t),children:Object(o.jsx)(ae.a.Img,{variant:"top",src:""+i,className:"fotoList",alt:c})}),Object(o.jsxs)(ae.a.Body,{children:[Object(o.jsx)(ae.a.Title,{className:"tituloList",children:c}),Object(o.jsxs)(ae.a.Title,{className:"precioList",children:["Precio: $ ",l(n,2),"-"]}),Object(o.jsx)(f.b,{to:"/detalle/".concat(t),children:Object(o.jsxs)(D.a,{variant:"secondary",className:"botonCarro",children:[Object(o.jsx)(v.h,{color:"#FF305D",size:"25px"})," Ver Detalle"]})}),Object(o.jsxs)(ae.a.Text,{children:[s," SKU: ",r]})]})]})})},ie=function(e){var t=e.productos,c=void 0===t?[]:t;return Object(o.jsx)(o.Fragment,{children:c.length>0?c.map((function(e){return Object(a.createElement)(ne,Object(E.a)(Object(E.a)({},e),{},{key:e.id}))})):Object(o.jsx)("h2",{children:"Sin Productos en Esta Categoria / Busqueda ...."})})},se=c(124),re=(c(113),function(){return Object(o.jsxs)("div",{className:"loader",children:[Object(o.jsx)(se.a,{animation:"grow",variant:"info",className:"m-5",size:"xl"}),Object(o.jsx)("h2",{className:"cargando",children:"Cargando ..."}),Object(o.jsx)(se.a,{animation:"grow",variant:"info",className:"m-5",size:"xl"})]})}),oe=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)([]),s=Object(r.a)(i,2),j=s[0],b=s[1],m=Object(a.useContext)(l),u=m.busqueda,x=m.setBusqueda,O=Object(S.h)().category;return void 0===O&&(O=""),void 0===u&&x(""),Object(a.useEffect)((function(){b(!0),function(e,t){var c=L();(e?c.collection("productos").where("categ","==",e):c.collection("productos")).get().then((function(e){var c=e.docs.map((function(e){return Object(E.a)({id:e.id},e.data())}));t(c)}))}(O,(function(e){var t=[];if(""!==u){var c,a=Object(d.a)(e);try{for(a.s();!(c=a.n()).done;){var i=c.value;i.nombre.toString().toLowerCase().indexOf(u.toLowerCase())>=0&&t.push(i)}}catch(s){a.e(s)}finally{a.f()}}else t=e;n(t),b(!1)}))}),[O,u]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"container-fluid",id:"listContainer",children:Object(o.jsx)("div",{className:"row align-items-center",children:j?Object(o.jsx)(re,{}):Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(ie,{productos:c})})})})})},le=(c(73),c(127)),je=c(125),de=c(80),be=function(){var e=Object(a.useContext)(x),t=e.carrito,c=e.vaciarCarrito,n=e.removeItem,i=e.calcularTotal,s=e.cambiarCant,r=Object(a.useContext)(p).formatoSepMiles,l=Object(S.g)().goBack,j=function(e){s(e.target.name,e.target.value)},d=function(e,t,c){return 1===e?c>=t?"btn btn-danger sm mx-3":"btn btn-light sm mx-3":c<=1?"btn btn-danger sm mx-3":"btn btn-light sm mx-3"};return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(w.a,{children:Object(o.jsxs)(o.Fragment,{children:[" ",0===t.length?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(le.a,{variant:"warning m-3",children:"No Hay Productos en el Carrito a\xfan."}),Object(o.jsxs)(D.a,{variant:"success",onClick:function(){return l()},children:[Object(o.jsx)(v.a,{color:"white",size:"25px"})," Volver A Comprar"]})]}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(je.a,{striped:!0,bordered:!0,hover:!0,variant:"warning",size:"sm",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{colSpan:"3",children:"PRODUCTO"}),Object(o.jsx)("th",{children:"Cantidad"}),Object(o.jsx)("th",{children:"Precio"}),Object(o.jsx)("th",{children:"Total"}),Object(o.jsx)("th",{children:"Borrar"})]})}),Object(o.jsx)("tbody",{children:t.map((function(e){return Object(o.jsxs)("tr",{className:"filaProducto",valign:"middle",children:[Object(o.jsx)("td",{children:Object(o.jsx)(f.b,{to:"/detalle/".concat(e.id),children:Object(o.jsx)("img",{src:""+e.img,alt:e.nombre,className:"imgCarrito"})})}),Object(o.jsx)("td",{children:Object(o.jsx)("span",{className:"mx-3",children:e.sku})}),Object(o.jsx)("td",{children:Object(o.jsx)("span",{className:"mx-3 nombreProductoCarrito",children:e.nombre})}),Object(o.jsxs)("td",{children:[Object(o.jsx)("button",{className:d(-1,e.stock,e.cantidad),onClick:function(){return s(e.id,e.cantidad-1)},children:Object(o.jsx)(v.g,{color:"#FF305D",size:"12px"})}),Object(o.jsx)("input",{type:"number",className:"cantP",value:e.cantidad,onChange:j,name:e.id}),Object(o.jsx)("button",{className:d(1,e.stock,e.cantidad),onClick:function(){return s(e.id,e.cantidad+1)},children:Object(o.jsx)(v.h,{color:"#FF305D",size:"12px"})})]}),Object(o.jsxs)("td",{className:"importeCarrito",children:["$ ",r(e.precio,2)]}),Object(o.jsxs)("td",{className:"importeCarrito",children:["$ ",r(Number(e.cantidad)*e.precio,0)]}),Object(o.jsx)("td",{children:Object(o.jsx)(D.a,{variant:"danger mx-3",onClick:function(){return n(e.id)},children:Object(o.jsx)(v.i,{color:"white",size:"25px"})})})]},e.id)}))}),Object(o.jsx)("tfoot",{children:Object(o.jsxs)("tr",{className:"totalCarrito",children:[Object(o.jsx)("td",{colSpan:"4",children:"IMPORTE TOTAL COMPRA"}),Object(o.jsxs)("td",{colSpan:"2",children:["$ ",r(i(),2)]}),Object(o.jsx)("td",{})]})})]}),Object(o.jsxs)("div",{className:"row align-items-center mt-5",children:[Object(o.jsx)("div",{className:"col col-4",children:Object(o.jsxs)(f.b,{to:"/checkout",className:"btn btn-success mx-3",children:[Object(o.jsx)(de.a,{size:"30px"})," Terminar mi Compra"]})}),Object(o.jsx)("div",{className:"col col-4",children:Object(o.jsxs)(D.a,{variant:"success",onClick:function(){return l()},children:[Object(o.jsx)(v.a,{color:"white",size:"25px"})," Volver A Comprar"]})}),Object(o.jsx)("div",{className:"col col-4",children:Object(o.jsxs)(D.a,{variant:"danger",onClick:function(){return c(!0)},children:[Object(o.jsx)(v.i,{color:"white",size:"25px"})," Vaciar Carrito"]})})]})]})]})})})},me=(c(114),function(){var e=Object(a.useContext)(p).formatoSepMiles,t=Object(S.g)().goBack,c=Object(a.useState)([]),n=Object(r.a)(c,2),i=n[0],s=n[1],j=Object(a.useContext)(l).usuario;return Object(a.useEffect)((function(){var e,t;e=j.email,t=function(e){s(e)},L().collection("orders").where("buyer.email","==",e).get().then((function(e){var c=e.docs.map((function(e){return Object(E.a)(Object(E.a)({},e.data()),{},{doc:e})}));t(c)}))}),[s,j.email]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(w.a,{children:Object(o.jsxs)(o.Fragment,{children:[" ",0===i.length?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(le.a,{variant:"warning m-3",children:"No Existen Compras Anteriores."}),Object(o.jsxs)(D.a,{variant:"success",onClick:function(){return t()},children:[Object(o.jsx)(v.a,{color:"white",size:"25px"})," Volver A Comprar"]})]}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(je.a,{bordered:!0,hover:!0,variant:"success",size:"sm",children:i.map((function(t){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{colSpan:"1",children:"Fecha \xd3rden"}),Object(o.jsx)("th",{colSpan:"1",children:"ID"}),Object(o.jsx)("th",{children:"Cantidad Items"}),Object(o.jsx)("th",{children:"Total \xd3rden"})]},"titulo")}),Object(o.jsxs)("tbody",{children:[Object(o.jsxs)("tr",{className:"filaProducto",valign:"middle",children:[Object(o.jsx)("td",{colSpan:"1",children:Object(o.jsx)("span",{className:"mx-3",children:t.date.toDate().toLocaleString("en-GB",{timeZone:"UTC"})})}),Object(o.jsx)("td",{colSpan:"1",children:Object(o.jsx)("span",{className:"mx-3 textoID",children:t.doc.id})}),Object(o.jsx)("td",{className:"importeCarrito",children:e(t.cantTotal,0)}),Object(o.jsx)("td",{className:"importeCarrito",children:e(t.total,0)})]},t.doc.id),Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Producto"}),Object(o.jsx)("th",{children:"Cantidad"}),Object(o.jsx)("th",{children:"Precio"}),Object(o.jsx)("th",{children:"Total"})]},t.doc.id+"titulo"),t.items.map((function(t){return Object(o.jsxs)("tr",{className:"filaProducto",valign:"middle",children:[Object(o.jsx)("td",{children:Object(o.jsx)("span",{className:"mx-3",children:t.sku+" - "+t.nombre})}),Object(o.jsx)("td",{className:"importeResumen",children:e(t.cantidad,0)}),Object(o.jsx)("td",{className:"importeResumen",children:e(t.precio,0)}),Object(o.jsx)("td",{className:"importeResumen",children:e(Number(t.cantidad)*Number(t.precio),0)})]},t.id)})),Object(o.jsxs)("tr",{className:"table table-dark",valign:"middle",children:[Object(o.jsx)("td",{}),Object(o.jsx)("td",{}),Object(o.jsx)("td",{}),Object(o.jsx)("td",{})]},"separador1"+t.doc.id),Object(o.jsxs)("tr",{className:"table table-ligth separadorFila",valign:"middle",children:[Object(o.jsx)("td",{}),Object(o.jsx)("td",{}),Object(o.jsx)("td",{}),Object(o.jsx)("td",{})]},"separador2"+t.doc.id)]})]})}))}),Object(o.jsx)("div",{className:"row align-items-center mt-5",children:Object(o.jsx)("div",{className:"col col-4",children:Object(o.jsxs)(D.a,{variant:"success",onClick:function(){return t()},children:[Object(o.jsx)(v.a,{color:"white",size:"25px"})," Volver A Comprar"]})})})]})]})})})}),ue=(c(115),c(74),function(e){var t=e.id,c=e.nombre,n=e.precio,i=e.img,s=e.categ,l=e.descrip,j=e.stock,d=e.sku,b=Object(S.g)().goBack,m=Object(a.useState)(!1),O=Object(r.a)(m,2),h=O[0],g=O[1],N=Object(a.useState)(0),C=Object(r.a)(N,2),w=C[0],k=C[1],F=Object(a.useContext)(x),y=F.addToCarrito,I=F.estaEnCarrito,P=Object(a.useContext)(p).formatoSepMiles;return Object(o.jsxs)("div",{className:"container",id:"contenedorDetalle",children:[Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col",children:Object(o.jsx)("img",{src:""+i,className:"imgPpal",alt:c})}),Object(o.jsxs)("div",{className:"col",children:[Object(o.jsx)("div",{className:"row mt-3",children:Object(o.jsx)("h2",{className:"tituloItem",children:c})}),Object(o.jsx)("hr",{}),Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("p",{className:"subTituloItem",children:["SKU ",d," --- ",s]})}),Object(o.jsx)("hr",{}),Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("p",{className:"subTituloItem",children:["Cantidad Disponible: ",j," "]})}),Object(o.jsx)("hr",{}),Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("p",{className:"precioDetalle",children:["Precio: $ ",P(n,2)," -"]})}),Object(o.jsx)("div",{className:"row align-items-center mt-5",children:I(t)?Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"col col-12",children:[Object(o.jsxs)(f.b,{to:"/carrito",className:"btn btn-success mx-3",children:[Object(o.jsx)(v.e,{color:"white",size:"25px"})," Ir Al Carrito"]}),Object(o.jsx)(le.a,{variant:"success m-3",children:"En el Carrito podr\xe1s Editar las Cantidades Seleccionadas de tu Compra."})]})}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"col col-xs-12 col-md-6",children:[Object(o.jsx)("span",{className:"subTituloItem",children:"Cantidad : "}),Object(o.jsx)(D.a,{variant:"danger-outline mx-1",onClick:function(){w-1>0&&k(w-1),g(!1)},children:Object(o.jsx)(v.g,{color:"#FF305D",size:"25px"})}),Object(o.jsx)("input",{type:"number",className:"cantP",value:w,onChange:function(e){e.target.value>j?(g(!0),k(j)):e.target.value<=0?(k(0),g(!1)):(k(e.target.value),g(!1))}}),Object(o.jsx)(D.a,{variant:"success-outline",onClick:function(){w+1>j?g(!0):(k(w+1),g(!1))},children:Object(o.jsx)(v.h,{color:"#FF305D",size:"25px"})})]}),Object(o.jsx)("div",{className:"col col-xs-12 col-md-6",children:Object(o.jsxs)(D.a,{variant:"secondary",onClick:function(){w>0?y({id:t,nombre:c,precio:n,img:i,categ:s,descrip:l,stock:j,sku:d,cantidad:w}):u.a.fire({position:"center",icon:"info",title:"Cantidad debe Ser mayor a 0.",showConfirmButton:!1,timer:1500})},children:[Object(o.jsx)(v.d,{color:"white",size:"25px"})," Agregar al Carrito"]})})]})}),h?Object(o.jsxs)(le.a,{variant:"danger m-3",children:["No Pod\xe9s seleccionar mas de ",j," Unidades"]}):Object(o.jsx)(o.Fragment,{}),Object(o.jsx)("div",{className:"row align-items-center mt-5",children:Object(o.jsx)("div",{className:"col col-12 col-4",children:Object(o.jsxs)(D.a,{variant:"success",onClick:function(){return b()},children:[Object(o.jsx)(v.a,{color:"white",size:"25px"})," Volver A Comprar"]})})})]})]}),Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("p",{className:"descrip",children:l})})})]})}),xe=function(){var e=Object(a.useState)(null),t=Object(r.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)([]),s=Object(r.a)(i,2),l=s[0],j=s[1],d=Object(S.h)().itemId;return Object(a.useEffect)((function(){j(!0),function(e,t){L().collection("productos").doc(e).get().then((function(e){t(Object(E.a)({id:e.id},e.data()))}))}(d,(function(e){n(e),j(!1)}))}),[d]),Object(o.jsx)(o.Fragment,{children:l?Object(o.jsx)(re,{}):Object(o.jsx)(o.Fragment,{children:void 0===c.nombre?Object(o.jsxs)(o.Fragment,{children:[void u.a.fire({position:"center",icon:"error",title:"Este Producto No Existe",showConfirmButton:!1,timer:2500}),Object(o.jsx)(S.a,{to:"/"}),";"]}):Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(ue,Object(E.a)({},c))})})})};var Oe=function(){var e="Cotill\xf3n Casa Chiche",t="logo512.png";return Object(o.jsx)("div",{className:"App",children:Object(o.jsx)(j,{children:Object(o.jsx)(g,{children:Object(o.jsx)(h,{children:Object(o.jsxs)(f.a,{children:[Object(o.jsx)(G,{nombreEmpresa:e,urlLogoPpal:t}),Object(o.jsxs)("div",{id:"contenidoPpal",children:[Object(o.jsx)(U,{nombreEmpresa:e,urlLogoPpal:t}),Object(o.jsxs)(S.d,{children:[Object(o.jsx)(S.b,{exact:!0,path:"/",children:Object(o.jsx)(oe,{})}),Object(o.jsx)(S.b,{exact:!0,path:"/productos/:category",children:Object(o.jsx)(oe,{})}),Object(o.jsx)(S.b,{exact:!0,path:"/detalle/:itemId",children:Object(o.jsx)(xe,{})}),Object(o.jsx)(S.b,{exact:!0,path:"/carrito",children:Object(o.jsx)(be,{})}),Object(o.jsx)(S.b,{exact:!0,path:"/checkout",children:Object(o.jsx)(te,{})}),Object(o.jsx)(S.b,{exact:!0,path:"/registrarse",children:Object(o.jsx)(ce,{})}),Object(o.jsx)(S.b,{exact:!0,path:"/ordenes",children:Object(o.jsx)(me,{})}),Object(o.jsx)(S.b,{path:"*",children:Object(o.jsx)(S.a,{to:"/"})})]})]})]})})})})})};s.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(P,{children:Object(o.jsx)(Oe,{})})}),document.getElementById("root"))},71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},86:function(e,t,c){},98:function(e,t,c){},99:function(e,t,c){}},[[116,1,2]]]);
//# sourceMappingURL=main.53bea40c.chunk.js.map